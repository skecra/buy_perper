(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.MultiformatsSha3 = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var MultiformatsSha3=(()=>{var wt=Object.create;var Ne=Object.defineProperty;var At=Object.getOwnPropertyDescriptor;var _t=Object.getOwnPropertyNames;var Bt=Object.getPrototypeOf,St=Object.prototype.hasOwnProperty;var Ft=(a,h)=>()=>(h||a((h={exports:{}}).exports,h),h.exports),gt=(a,h)=>{for(var d in h)Ne(a,d,{get:h[d],enumerable:!0})},ct=(a,h,d,p)=>{if(h&&typeof h=="object"||typeof h=="function")for(let b of _t(h))!St.call(a,b)&&b!==d&&Ne(a,b,{get:()=>h[b],enumerable:!(p=At(h,b))||p.enumerable});return a};var Mt=(a,h,d)=>(d=a!=null?wt(Bt(a)):{},ct(h||!a||!a.__esModule?Ne(d,"default",{value:a,enumerable:!0}):d,a)),Ct=a=>ct(Ne({},"__esModule",{value:!0}),a);var it=Ft((cr,Ue)=>{(function(){"use strict";var a="input is invalid type",h="finalize already called",d=typeof window=="object",p=d?window:{};p.JS_SHA3_NO_WINDOW&&(d=!1);var b=!d&&typeof self=="object",_=!p.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;_?p=globalThis:b&&(p=self);for(var g=!p.JS_SHA3_NO_COMMON_JS&&typeof Ue=="object"&&Ue.exports,Re=typeof define=="function"&&define.amd,je=!p.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",v="0123456789abcdef".split(""),dt=[31,7936,2031616,520093696],Ye=[4,1024,262144,67108864],pt=[1,256,65536,16777216],yt=[6,1536,393216,100663296],k=[0,8,16,24],qe=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Ge=[224,256,384,512],ze=[128,256],$e=["hex","buffer","arrayBuffer","array","digest"],Xe={128:168,256:136},lt=p.JS_SHA3_NO_NODE_JS||!Array.isArray?function(e){return Object.prototype.toString.call(e)==="[object Array]"}:Array.isArray,xt=je&&(p.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)?function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer}:ArrayBuffer.isView,Ie=function(e){var t=typeof e;if(t==="string")return[e,!0];if(t!=="object"||e===null)throw new Error(a);if(je&&e.constructor===ArrayBuffer)return[new Uint8Array(e),!1];if(!lt(e)&&!xt(e))throw new Error(a);return[e,!1]},Ze=function(e){return Ie(e)[0].length===0},De=function(e){for(var t=[],r=0;r<e.length;++r)t[r]=e[r];return t},Qe=function(e,t,r){return function(n){return new l(e,t,e).update(n)[r]()}},et=function(e,t,r){return function(n,o){return new l(e,t,o).update(n)[r]()}},tt=function(e,t,r){return function(n,o,c,f){return B["cshake"+e].update(n,o,c,f)[r]()}},rt=function(e,t,r){return function(n,o,c,f){return B["kmac"+e].update(n,o,c,f)[r]()}},m=function(e,t,r,n){for(var o=0;o<$e.length;++o){var c=$e[o];e[c]=t(r,n,c)}return e},nt=function(e,t){var r=Qe(e,t,"hex");return r.create=function(){return new l(e,t,e)},r.update=function(n){return r.create().update(n)},m(r,Qe,e,t)},bt=function(e,t){var r=et(e,t,"hex");return r.create=function(n){return new l(e,t,n)},r.update=function(n,o){return r.create(o).update(n)},m(r,et,e,t)},vt=function(e,t){var r=Xe[e],n=tt(e,t,"hex");return n.create=function(o,c,f){return Ze(c)&&Ze(f)?B["shake"+e].create(o):new l(e,t,o).bytepad([c,f],r)},n.update=function(o,c,f,i){return n.create(c,f,i).update(o)},m(n,tt,e,t)},kt=function(e,t){var r=Xe[e],n=rt(e,t,"hex");return n.create=function(o,c,f){return new He(e,t,c).bytepad(["KMAC",f],r).bytepad([o],r)},n.update=function(o,c,f,i){return n.create(o,f,i).update(c)},m(n,rt,e,t)},ot=[{name:"keccak",padding:pt,bits:Ge,createMethod:nt},{name:"sha3",padding:yt,bits:Ge,createMethod:nt},{name:"shake",padding:dt,bits:ze,createMethod:bt},{name:"cshake",padding:Ye,bits:ze,createMethod:vt},{name:"kmac",padding:Ye,bits:ze,createMethod:kt}],B={},C=[],S=0;S<ot.length;++S)for(var M=ot[S],N=M.bits,O=0;O<N.length;++O){var Te=M.name+"_"+N[O];if(C.push(Te),B[Te]=M.createMethod(N[O],M.padding),M.name!=="sha3"){var at=M.name+N[O];C.push(at),B[at]=B[Te]}}function l(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(r&31)>>3;for(var n=0;n<50;++n)this.s[n]=0}l.prototype.update=function(e){if(this.finalized)throw new Error(h);var t=Ie(e);e=t[0];for(var r=t[1],n=this.blocks,o=this.byteCount,c=e.length,f=this.blockCount,i=0,x=this.s,u,y;i<c;){if(this.reset)for(this.reset=!1,n[0]=this.block,u=1;u<f+1;++u)n[u]=0;if(r)for(u=this.start;i<c&&u<o;++i)y=e.charCodeAt(i),y<128?n[u>>2]|=y<<k[u++&3]:y<2048?(n[u>>2]|=(192|y>>6)<<k[u++&3],n[u>>2]|=(128|y&63)<<k[u++&3]):y<55296||y>=57344?(n[u>>2]|=(224|y>>12)<<k[u++&3],n[u>>2]|=(128|y>>6&63)<<k[u++&3],n[u>>2]|=(128|y&63)<<k[u++&3]):(y=65536+((y&1023)<<10|e.charCodeAt(++i)&1023),n[u>>2]|=(240|y>>18)<<k[u++&3],n[u>>2]|=(128|y>>12&63)<<k[u++&3],n[u>>2]|=(128|y>>6&63)<<k[u++&3],n[u>>2]|=(128|y&63)<<k[u++&3]);else for(u=this.start;i<c&&u<o;++i)n[u>>2]|=e[i]<<k[u++&3];if(this.lastByteIndex=u,u>=o){for(this.start=u-o,this.block=n[f],u=0;u<f;++u)x[u]^=n[u];E(x),this.reset=!0}else this.start=u}return this},l.prototype.encode=function(e,t){var r=e&255,n=1,o=[r];for(e=e>>8,r=e&255;r>0;)o.unshift(r),e=e>>8,r=e&255,++n;return t?o.push(n):o.unshift(n),this.update(o),o.length},l.prototype.encodeString=function(e){var t=Ie(e);e=t[0];var r=t[1],n=0,o=e.length;if(r)for(var c=0;c<e.length;++c){var f=e.charCodeAt(c);f<128?n+=1:f<2048?n+=2:f<55296||f>=57344?n+=3:(f=65536+((f&1023)<<10|e.charCodeAt(++c)&1023),n+=4)}else n=o;return n+=this.encode(n*8),this.update(e),n},l.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var o=(t-r%t)%t,c=[];return c.length=o,this.update(c),this},l.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[t&3],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];E(n)}},l.prototype.toString=l.prototype.hex=function(){this.finalize();for(var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,o=0,c=0,f="",i;c<r;){for(o=0;o<e&&c<r;++o,++c)i=t[o],f+=v[i>>4&15]+v[i&15]+v[i>>12&15]+v[i>>8&15]+v[i>>20&15]+v[i>>16&15]+v[i>>28&15]+v[i>>24&15];c%e===0&&(t=De(t),E(t),o=0)}return n&&(i=t[o],f+=v[i>>4&15]+v[i&15],n>1&&(f+=v[i>>12&15]+v[i>>8&15]),n>2&&(f+=v[i>>20&15]+v[i>>16&15])),f},l.prototype.arrayBuffer=function(){this.finalize();var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,o=0,c=0,f=this.outputBits>>3,i;n?i=new ArrayBuffer(r+1<<2):i=new ArrayBuffer(f);for(var x=new Uint32Array(i);c<r;){for(o=0;o<e&&c<r;++o,++c)x[c]=t[o];c%e===0&&(t=De(t),E(t))}return n&&(x[c]=t[o],i=i.slice(0,f)),i},l.prototype.buffer=l.prototype.arrayBuffer,l.prototype.digest=l.prototype.array=function(){this.finalize();for(var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,o=0,c=0,f=[],i,x;c<r;){for(o=0;o<e&&c<r;++o,++c)i=c<<2,x=t[o],f[i]=x&255,f[i+1]=x>>8&255,f[i+2]=x>>16&255,f[i+3]=x>>24&255;c%e===0&&(t=De(t),E(t))}return n&&(i=c<<2,x=t[o],f[i]=x&255,n>1&&(f[i+1]=x>>8&255),n>2&&(f[i+2]=x>>16&255)),f};function He(e,t,r){l.call(this,e,t,r)}He.prototype=new l,He.prototype.finalize=function(){return this.encode(this.outputBits,!0),l.prototype.finalize.call(this)};var E=function(e){var t,r,n,o,c,f,i,x,u,y,U,R,z,I,D,T,H,L,K,s,J,P,W,V,j,Y,q,G,$,X,Z,Q,ee,te,re,ne,oe,ae,ce,ie,fe,ue,he,de,pe,ye,le,xe,be,ve,ke,we,Ae,_e,Be,Se,Fe,ge,Me,Ce,Oe,Ee,me;for(n=0;n<48;n+=2)o=e[0]^e[10]^e[20]^e[30]^e[40],c=e[1]^e[11]^e[21]^e[31]^e[41],f=e[2]^e[12]^e[22]^e[32]^e[42],i=e[3]^e[13]^e[23]^e[33]^e[43],x=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],y=e[6]^e[16]^e[26]^e[36]^e[46],U=e[7]^e[17]^e[27]^e[37]^e[47],R=e[8]^e[18]^e[28]^e[38]^e[48],z=e[9]^e[19]^e[29]^e[39]^e[49],t=R^(f<<1|i>>>31),r=z^(i<<1|f>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=o^(x<<1|u>>>31),r=c^(u<<1|x>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=f^(y<<1|U>>>31),r=i^(U<<1|y>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=x^(R<<1|z>>>31),r=u^(z<<1|R>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=y^(o<<1|c>>>31),r=U^(c<<1|o>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,I=e[0],D=e[1],ye=e[11]<<4|e[10]>>>28,le=e[10]<<4|e[11]>>>28,G=e[20]<<3|e[21]>>>29,$=e[21]<<3|e[20]>>>29,Ce=e[31]<<9|e[30]>>>23,Oe=e[30]<<9|e[31]>>>23,ue=e[40]<<18|e[41]>>>14,he=e[41]<<18|e[40]>>>14,te=e[2]<<1|e[3]>>>31,re=e[3]<<1|e[2]>>>31,T=e[13]<<12|e[12]>>>20,H=e[12]<<12|e[13]>>>20,xe=e[22]<<10|e[23]>>>22,be=e[23]<<10|e[22]>>>22,X=e[33]<<13|e[32]>>>19,Z=e[32]<<13|e[33]>>>19,Ee=e[42]<<2|e[43]>>>30,me=e[43]<<2|e[42]>>>30,_e=e[5]<<30|e[4]>>>2,Be=e[4]<<30|e[5]>>>2,ne=e[14]<<6|e[15]>>>26,oe=e[15]<<6|e[14]>>>26,L=e[25]<<11|e[24]>>>21,K=e[24]<<11|e[25]>>>21,ve=e[34]<<15|e[35]>>>17,ke=e[35]<<15|e[34]>>>17,Q=e[45]<<29|e[44]>>>3,ee=e[44]<<29|e[45]>>>3,V=e[6]<<28|e[7]>>>4,j=e[7]<<28|e[6]>>>4,Se=e[17]<<23|e[16]>>>9,Fe=e[16]<<23|e[17]>>>9,ae=e[26]<<25|e[27]>>>7,ce=e[27]<<25|e[26]>>>7,s=e[36]<<21|e[37]>>>11,J=e[37]<<21|e[36]>>>11,we=e[47]<<24|e[46]>>>8,Ae=e[46]<<24|e[47]>>>8,de=e[8]<<27|e[9]>>>5,pe=e[9]<<27|e[8]>>>5,Y=e[18]<<20|e[19]>>>12,q=e[19]<<20|e[18]>>>12,ge=e[29]<<7|e[28]>>>25,Me=e[28]<<7|e[29]>>>25,ie=e[38]<<8|e[39]>>>24,fe=e[39]<<8|e[38]>>>24,P=e[48]<<14|e[49]>>>18,W=e[49]<<14|e[48]>>>18,e[0]=I^~T&L,e[1]=D^~H&K,e[10]=V^~Y&G,e[11]=j^~q&$,e[20]=te^~ne&ae,e[21]=re^~oe&ce,e[30]=de^~ye&xe,e[31]=pe^~le&be,e[40]=_e^~Se&ge,e[41]=Be^~Fe&Me,e[2]=T^~L&s,e[3]=H^~K&J,e[12]=Y^~G&X,e[13]=q^~$&Z,e[22]=ne^~ae&ie,e[23]=oe^~ce&fe,e[32]=ye^~xe&ve,e[33]=le^~be&ke,e[42]=Se^~ge&Ce,e[43]=Fe^~Me&Oe,e[4]=L^~s&P,e[5]=K^~J&W,e[14]=G^~X&Q,e[15]=$^~Z&ee,e[24]=ae^~ie&ue,e[25]=ce^~fe&he,e[34]=xe^~ve&we,e[35]=be^~ke&Ae,e[44]=ge^~Ce&Ee,e[45]=Me^~Oe&me,e[6]=s^~P&I,e[7]=J^~W&D,e[16]=X^~Q&V,e[17]=Z^~ee&j,e[26]=ie^~ue&te,e[27]=fe^~he&re,e[36]=ve^~we&de,e[37]=ke^~Ae&pe,e[46]=Ce^~Ee&_e,e[47]=Oe^~me&Be,e[8]=P^~I&T,e[9]=W^~D&H,e[18]=Q^~V&Y,e[19]=ee^~j&q,e[28]=ue^~te&ne,e[29]=he^~re&oe,e[38]=we^~de&ye,e[39]=Ae^~pe&le,e[48]=Ee^~_e&Se,e[49]=me^~Be&Fe,e[0]^=qe[n],e[1]^=qe[n+1]};if(g)Ue.exports=B;else{for(S=0;S<C.length;++S)p[C[S]]=B[C[S]];Re&&define(function(){return B})}})()});var or={};gt(or,{keccak224:()=>er,keccak256:()=>tr,keccak384:()=>rr,keccak512:()=>nr,sha3224:()=>qt,sha3256:()=>Gt,sha3384:()=>$t,sha3512:()=>Xt,shake128:()=>Zt,shake256:()=>Qt});var A=Mt(it(),1);var ir=new Uint8Array(0);var Ot=ht,ft=128,Et=127,mt=~Et,Nt=Math.pow(2,31);function ht(a,h,d){h=h||[],d=d||0;for(var p=d;a>=Nt;)h[d++]=a&255|ft,a/=128;for(;a&mt;)h[d++]=a&255|ft,a>>>=7;return h[d]=a|0,ht.bytes=d-p+1,h}var Ut=Le,Rt=128,ut=127;function Le(a,p){var d=0,p=p||0,b=0,_=p,g,Re=a.length;do{if(_>=Re)throw Le.bytes=0,new RangeError("Could not decode varint");g=a[_++],d+=b<28?(g&ut)<<b:(g&ut)*Math.pow(2,b),b+=7}while(g>=Rt);return Le.bytes=_-p,d}var zt=Math.pow(2,7),It=Math.pow(2,14),Dt=Math.pow(2,21),Tt=Math.pow(2,28),Ht=Math.pow(2,35),Lt=Math.pow(2,42),Kt=Math.pow(2,49),st=Math.pow(2,56),Jt=Math.pow(2,63),Pt=function(a){return a<zt?1:a<It?2:a<Dt?3:a<Tt?4:a<Ht?5:a<Lt?6:a<Kt?7:a<st?8:a<Jt?9:10},Wt={encode:Ot,decode:Ut,encodingLength:Pt},Vt=Wt,Ke=Vt;function se(a,h,d=0){return Ke.encode(a,h,d),h}function Je(a){return Ke.encodingLength(a)}function We(a,h){let d=h.byteLength,p=Je(a),b=p+Je(d),_=new Uint8Array(b+d);return se(a,_,0),se(d,_,p),_.set(h,b),new Pe(a,d,h,_)}var Pe=class{code;size;digest;bytes;constructor(h,d,p,b){this.code=h,this.size=d,this.digest=p,this.bytes=b}};function w({name:a,code:h,encode:d}){return new Ve(a,h,d)}var Ve=class{name;code;encode;constructor(h,d,p){this.name=h,this.code=d,this.encode=p}digest(h){if(h instanceof Uint8Array){let d=this.encode(h);return d instanceof Uint8Array?We(this.code,d):d.then(p=>We(this.code,p))}else throw Error("Unknown type, must be binary type")}};function F(a){return h=>new Uint8Array(a.array(h))}var qt=w({code:23,name:"sha3-224",encode:F(A.default.sha3_224)}),Gt=w({code:22,name:"sha3-256",encode:F(A.default.sha3_256)}),$t=w({code:21,name:"sha3-384",encode:F(A.default.sha3_384)}),Xt=w({code:20,name:"sha3-512",encode:F(A.default.sha3_512)}),Zt=w({code:24,name:"shake-128",encode:a=>new Uint8Array(A.default.shake128.array(a,256))}),Qt=w({code:25,name:"shake-256",encode:a=>new Uint8Array(A.default.shake256.array(a,512))}),er=w({code:26,name:"keccak-224",encode:F(A.default.keccak224)}),tr=w({code:27,name:"keccak-256",encode:F(A.default.keccak256)}),rr=w({code:28,name:"keccak-384",encode:F(A.default.keccak384)}),nr=w({code:29,name:"keccak-512",encode:F(A.default.keccak512)});return Ct(or);})();
/*! Bundled license information:

js-sha3/src/sha3.js:
  (**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.9.3
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2023
   * @license MIT
   *)
*/
return MultiformatsSha3}));
